---
phase: 01-foundation-infrastructure
plan: 02
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  - src/App.tsx
  - src/styles.css
  - src/components/Sidebar.tsx
  - src/components/Layout.tsx
  - src/components/pages/EpisodesPage.tsx
  - src/components/pages/AnalyticsPage.tsx
  - src/components/pages/TopicsPage.tsx
  - src/components/pages/BirdPage.tsx
  - src/components/pages/SettingsPage.tsx
  - src/i18n.ts
  - src/i18n.d.ts
  - src/locales/de/translation.json
  - package.json
autonomous: true

must_haves:
  truths:
    - "App displays German-language sidebar navigation with 5 sections"
    - "Sidebar shows Episodes and Settings as active, Analytics/Topics/Bird as disabled (grayed-out)"
    - "App follows macOS system theme automatically (light/dark mode)"
    - "All visible text is in German (no English strings in UI)"
    - "Window uses minimal design with podcast brand colors"
  artifacts:
    - path: "src/components/Sidebar.tsx"
      provides: "Sidebar navigation component with 5 sections"
      min_lines: 40
    - path: "src/components/Layout.tsx"
      provides: "Main layout with sidebar + content area"
      min_lines: 20
    - path: "src/locales/de/translation.json"
      provides: "German translations for all UI text"
      contains: "Episoden"
    - path: "src/i18n.ts"
      provides: "i18next initialization configured for German"
      contains: "lng.*de"
    - path: "src/styles.css"
      provides: "CSS with brand colors, theme support, sidebar layout"
      contains: "prefers-color-scheme"
  key_links:
    - from: "src/App.tsx"
      to: "src/components/Layout.tsx"
      via: "renders Layout as root component"
      pattern: "Layout"
    - from: "src/components/Sidebar.tsx"
      to: "src/locales/de/translation.json"
      via: "useTranslation hook for all labels"
      pattern: "useTranslation"
    - from: "src/main.tsx"
      to: "src/i18n.ts"
      via: "i18n import initializes translations before render"
      pattern: "import.*i18n"
---

<objective>
Build the German-language UI foundation with sidebar navigation, page routing, i18n system, macOS theme support, and podcast brand colors.

Purpose: Establishes the visual skeleton and localization system that all future feature UIs will plug into. Users will see the app structure from day 1 with active sections (Episodes, Settings) and grayed-out future sections (Analytics, Topics, Bird).

Output: Fully styled German UI with sidebar, 5 page placeholders, light/dark theme, and i18n infrastructure.
</objective>

<execution_context>
@/Users/tmtlxantonio/.claude/get-shit-done/workflows/execute-plan.md
@/Users/tmtlxantonio/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-infrastructure/01-CONTEXT.md
@.planning/phases/01-foundation-infrastructure/01-RESEARCH.md
@.planning/phases/01-foundation-infrastructure/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Set up react-i18next with German translations and TypeScript types</name>
  <files>
    src/i18n.ts
    src/i18n.d.ts
    src/locales/de/translation.json
    src/main.tsx
    package.json
  </files>
  <action>
    1. Install i18n dependencies:
       ```bash
       npm install react-i18next i18next
       ```

    2. Create `src/locales/de/translation.json` with ALL German translations needed for Phase 1 UI:
       ```json
       {
         "app": {
           "title": "Nettgefluster",
           "version": "Version {{version}}"
         },
         "nav": {
           "episodes": "Episoden",
           "analytics": "Analytik",
           "topics": "Themen",
           "bird": "Vogel-Randomizer",
           "settings": "Einstellungen"
         },
         "nav_disabled": {
           "analytics": "Analytik (kommt bald)",
           "topics": "Themen (kommt bald)",
           "bird": "Vogel-Randomizer (kommt bald)"
         },
         "pages": {
           "episodes": {
             "title": "Episoden",
             "empty": "Noch keine Episoden geladen.",
             "empty_hint": "Episoden werden in einer zukuenftigen Version automatisch geladen."
           },
           "settings": {
             "title": "Einstellungen",
             "app_info": "App-Informationen",
             "version_label": "Version",
             "database_label": "Datenbank",
             "database_status": "Verbunden",
             "launch_at_login": "App beim Anmelden starten",
             "about": "Ueber Nettgefluster"
           },
           "analytics": {
             "title": "Analytik",
             "coming_soon": "Sprechzeit-Analyse kommt in Phase 3."
           },
           "topics": {
             "title": "Themen",
             "coming_soon": "Themen-Tracking kommt in Phase 4."
           },
           "bird": {
             "title": "Vogel-Randomizer",
             "coming_soon": "Der Vogel-Randomizer kommt in Phase 5."
           }
         },
         "dates": {
           "today": "heute",
           "yesterday": "gestern",
           "daysAgo": "vor {{count}} Tagen"
         },
         "common": {
           "loading": "Laden...",
           "error": "Fehler",
           "save": "Speichern",
           "cancel": "Abbrechen",
           "close": "Schliessen",
           "back": "Zurueck"
         }
       }
       ```

    3. Create `src/i18n.ts`:
       - Import i18next and react-i18next
       - Import German translations
       - Initialize with `lng: 'de'`, `fallbackLng: 'de'`
       - Set `interpolation.escapeValue: false` (React already escapes)
       - Export configured i18n instance

    4. Create `src/i18n.d.ts` for TypeScript type safety:
       - Declare module 'react-i18next' with CustomTypeOptions
       - Reference translation.json type for compile-time key checking
       This prevents typo bugs where raw translation keys show in UI.

    5. Update `src/main.tsx` to import `./i18n` BEFORE rendering React app.
       The import must come before any component that uses `useTranslation()`.
  </action>
  <verify>
    Run `npm install` succeeds with i18next dependencies.
    Run `npx tsc --noEmit` to verify TypeScript compiles without errors.
    Verify `src/locales/de/translation.json` contains keys for all 5 navigation items.
    Verify `src/i18n.ts` initializes with `lng: 'de'`.
  </verify>
  <done>
    react-i18next installed and configured for German. Translation file contains all Phase 1 UI strings. TypeScript types enforce translation key correctness at compile time. i18n initialized before React render.
  </done>
</task>

<task type="auto">
  <name>Task 2: Build sidebar navigation, page layout, brand colors, and theme support</name>
  <files>
    src/App.tsx
    src/styles.css
    src/components/Sidebar.tsx
    src/components/Layout.tsx
    src/components/pages/EpisodesPage.tsx
    src/components/pages/AnalyticsPage.tsx
    src/components/pages/TopicsPage.tsx
    src/components/pages/BirdPage.tsx
    src/components/pages/SettingsPage.tsx
  </files>
  <action>
    1. Create `src/styles.css` with:
       - CSS custom properties for brand colors. Extract from podcast website context:
         Primary: use a warm, friendly color palette based on the podcast brand
         Use CSS variables: `--color-primary`, `--color-background`, `--color-surface`, `--color-text`, `--color-text-secondary`, `--color-border`, `--color-sidebar-bg`, `--color-sidebar-hover`, `--color-disabled`
       - Light mode defaults (`:root` block)
       - Dark mode overrides via `@media (prefers-color-scheme: dark)` with appropriate dark variants
       - Font: `font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif` (SF Pro on macOS)
       - Base layout: `display: flex; height: 100vh; overflow: hidden`
       - Sidebar styles: ~200px width, left-aligned, full height, navigation items with hover states
       - Content area: flex-grow, scrollable, padded
       - Disabled nav items: grayed out, reduced opacity, cursor not-allowed
       - Active nav item: highlighted with brand color
       - No gradients (explicit context requirement)
       - Minimal, clean aesthetic
       - macOS native spinner for loading states (use CSS animation)

    2. Create `src/components/Sidebar.tsx`:
       - Use `useTranslation()` hook for all labels
       - Render 5 navigation items: Episoden, Analytik, Themen, Vogel-Randomizer, Einstellungen
       - Accept `activePage` and `onNavigate` props
       - Mark Analytics, Topics, Bird as disabled (grayed out, unclickable)
       - Show disabled tooltip text from `nav_disabled` translations
       - Episodes and Settings are active and clickable
       - App title "Nettgefluster" at top of sidebar
       - Each nav item has an appropriate icon (use simple Unicode/emoji or SVG icons)

    3. Create `src/components/Layout.tsx`:
       - Flex container with Sidebar on left and content area on right
       - Manage active page state (default: 'episodes')
       - Render appropriate page component based on active state
       - Content area is scrollable with padding

    4. Create page placeholder components (each in `src/components/pages/`):
       - `EpisodesPage.tsx`: Title "Episoden", empty state message in German explaining episodes will be loaded in future version
       - `SettingsPage.tsx`: Title "Einstellungen", show app version, database status placeholder, launch-at-login toggle placeholder
       - `AnalyticsPage.tsx`: "Analytik" title with "kommt in Phase 3" message, grayed-out placeholder
       - `TopicsPage.tsx`: "Themen" title with "kommt in Phase 4" message, grayed-out placeholder
       - `BirdPage.tsx`: "Vogel-Randomizer" title with "kommt in Phase 5" message, grayed-out placeholder
       All text via `useTranslation()` - NO hardcoded German strings.

    5. Update `src/App.tsx`:
       - Import and render `Layout` as the root component
       - Clean, minimal - just renders Layout

    DESIGN PRINCIPLES (from context):
    - Minimal design, no gradients
    - macOS system font (SF Pro via -apple-system)
    - Auto-follow system theme (light/dark)
    - Clean window design, no toolbar below title bar
    - Resizable window (configured in tauri.conf.json already)
    - Enforce German language throughout - all text via t() function
  </action>
  <verify>
    Run `npm run tauri dev` and verify:
    1. App window shows sidebar with 5 navigation items
    2. All text is in German
    3. Episodes and Settings are clickable, other 3 are grayed out
    4. Clicking Episodes shows episodes page with empty state
    5. Clicking Settings shows settings page
    6. Light/dark mode follows system preference
    7. No English text visible anywhere in UI
    Run `npx tsc --noEmit` passes.
  </verify>
  <done>
    App displays German sidebar navigation with 5 sections. Episodes and Settings are active; Analytics, Topics, Bird are disabled with "kommt bald" indication. App follows macOS system theme. All text comes from i18n translation file. Design is minimal with brand colors and no gradients.
  </done>
</task>

</tasks>

<verification>
1. `npm run tauri dev` shows app with sidebar navigation
2. All 5 navigation items visible in German
3. Only Episodes and Settings are clickable
4. Disabled items are clearly grayed out
5. System theme (light/dark) is auto-detected
6. No English text visible in the UI
7. TypeScript compilation passes with i18n types
8. Navigation between Episodes and Settings works
</verification>

<success_criteria>
- German sidebar navigation with 5 sections (2 active, 3 disabled)
- i18n system with TypeScript-typed translation keys
- macOS system theme auto-detection (light/dark mode)
- Minimal design with podcast brand colors, no gradients
- All UI text from translation file (no hardcoded strings)
- Page routing between active sections works
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-infrastructure/01-02-SUMMARY.md`
</output>
